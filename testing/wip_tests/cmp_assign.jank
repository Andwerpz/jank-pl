
struct counter {
    int cnt;
    counter counter() {
        this.cnt = 0;
    }
    counter counter(counter& other) {
        this.cnt = other.cnt;
    }
    counter counter(int val) {
        this.cnt = val;
    }
}

counter& operator++x(counter& c) {
    puts_endl("inc counter");
    c.cnt ++;
    return c;
}

counter operator+(counter& a, int b) {
    return counter(a.cnt + b);
}

int main() {

    //this should only increment the counter once
    counter c = counter();
    ++c += 2;

    return 0;
}