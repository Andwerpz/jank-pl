
struct A {
    i64 val;

    A() {
        this.val = new i64();
    }
    A(A& other) {
        this.val = other.val;
    }
    A(i64 _val) {
        this.val = _val;
    }
}

i64 main() {

    i64 n = 10;
    A* arr = (A*) malloc(sizeof(A) * n);
    for(i64 i = 0; i < n; i++){
        arr[i] = new A(i);
    }

    A& ref = arr[1];
    ref.val = 123;

    A* ptr = (A*) malloc(sizeof(A));
    *ptr = new A(100);
    arr[0] = *ptr;
    for(i64 i = 0; i < n; i++){
        puti_endl(arr[i].val);
    }

    return 0;
}